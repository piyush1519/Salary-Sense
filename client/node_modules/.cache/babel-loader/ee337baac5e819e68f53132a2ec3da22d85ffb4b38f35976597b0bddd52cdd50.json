{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Piyush Nimbalkar\\\\Desktop\\\\WDL\\\\salary-sense\\\\client\\\\src\\\\pages\\\\AdminDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport AnalyticsDashboard from \"../components/common/AnalyticsDashboard\";\nimport AdminLogs from \"../components/admin/AdminLogs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [uploadMessage, setUploadMessage] = useState(\"\");\n  const [retrainMessage, setRetrainMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleUpload = async () => {\n    if (!file) return alert(\"Please select a file.\");\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:5000/admin/upload\", formData);\n      setUploadMessage(res.data.message);\n    } catch (err) {\n      console.error(\"Upload error:\", err);\n      setUploadMessage(\"Upload failed.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRetrain = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.post(\"http://localhost:5000/admin/retrain\");\n      setRetrainMessage(res.data.message);\n    } catch (err) {\n      console.error(\"Retrain error:\", err);\n      setRetrainMessage(\"Retrain failed.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"600px\",\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDC68\\u200D\\uD83D\\uDCBC Admin Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCC1 Upload Dataset (.csv)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".csv\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        disabled: loading,\n        children: loading ? \"Uploading...\" : \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), uploadMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: uploadMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDD01 Retrain Model\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRetrain,\n        disabled: loading,\n        children: loading ? \"Retraining...\" : \"Retrain Model\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), retrainMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: retrainMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnalyticsDashboard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AdminLogs, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"swlkd2lXMCJaTy+SavONiyLBVtw=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","axios","AnalyticsDashboard","AdminLogs","jsxDEV","_jsxDEV","AdminDashboard","_s","file","setFile","uploadMessage","setUploadMessage","retrainMessage","setRetrainMessage","loading","setLoading","handleFileChange","e","target","files","handleUpload","alert","formData","FormData","append","res","post","data","message","err","console","error","handleRetrain","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","type","accept","onChange","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Piyush Nimbalkar/Desktop/WDL/salary-sense/client/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport AnalyticsDashboard from \"../components/common/AnalyticsDashboard\";\r\nimport AdminLogs from \"../components/admin/AdminLogs\";\r\nconst AdminDashboard = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [uploadMessage, setUploadMessage] = useState(\"\");\r\n  const [retrainMessage, setRetrainMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return alert(\"Please select a file.\");\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post(\"http://localhost:5000/admin/upload\", formData);\r\n      setUploadMessage(res.data.message);\r\n    } catch (err) {\r\n      console.error(\"Upload error:\", err);\r\n      setUploadMessage(\"Upload failed.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRetrain = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post(\"http://localhost:5000/admin/retrain\");\r\n      setRetrainMessage(res.data.message);\r\n    } catch (err) {\r\n      console.error(\"Retrain error:\", err);\r\n      setRetrainMessage(\"Retrain failed.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"600px\", margin: \"auto\" }}>\r\n      <h2>üë®‚Äçüíº Admin Dashboard</h2>\r\n\r\n      <div style={{ marginTop: \"30px\" }}>\r\n        <h4>üìÅ Upload Dataset (.csv)</h4>\r\n        <input type=\"file\" accept=\".csv\" onChange={handleFileChange} />\r\n        <button onClick={handleUpload} disabled={loading}>\r\n          {loading ? \"Uploading...\" : \"Upload\"}\r\n        </button>\r\n        {uploadMessage && <p>{uploadMessage}</p>}\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"30px\" }}>\r\n        <h4>üîÅ Retrain Model</h4>\r\n        <button onClick={handleRetrain} disabled={loading}>\r\n          {loading ? \"Retraining...\" : \"Retrain Model\"}\r\n        </button>\r\n        {retrainMessage && <p>{retrainMessage}</p>}\r\n      </div>\r\n      <AnalyticsDashboard />\r\n      {/* ‚úÖ Include the admin logs component */}\r\n      <AdminLogs />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}